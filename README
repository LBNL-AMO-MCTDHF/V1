
  ** LBNL-AMO-MCTDHF VERSION 1.04 **

Please watch the commits to stay notified about bugs and bug fixes:
     https://github.com/LBNL-AMO-MCTDHF/V1/commits/master

Known bugs appear as issues:
     https://github.com/LBNL-AMO-MCTDHF/V1/issues

STEP 1 OF README HAS BEEN IN ERROR.  FIXED May 16.

Possible workflow described below for mac.  The general idea is that you can 
   work entirely within the directory that you clone and to which you pull, not 
   copy the git distribution elsewhere for compilation.

 ----------------------------------------------------

Velocity gauge sinc DVR just implemented, not debugged nor checked for factors.

MPI ORBITAL PARALLELIZATION for sinc dvr (chmctdhf_sinc) only with parorbsplit=3.
  set both parorbsplit=3 in &parinp and orbparflag=.true. in &sincparinp.
  When this is set:

  RATE LIMITING STEP IN CODE (chmctdhf_sinc) AT SCALE: 

     --> MPI PARALLEL KINETIC ENERGY MULTIPLICATION IN Z DIRECTION <--

  FOUR OPTIONS for &sincparinp namelist variable zke_paropt:

  zke_paropt=0   mult_circ_z      sendrecv
  zke_paropt=1   mult_summa_z     SUMMA  scalable universal matrix multiplication 
                                    algorithm (broadcast before)
  zke_paropt=2   mult_reduce_z    reduce after (slow, generally, right?)
  zke_paropt=3   mult_alltoall_z  Calculate everything, wasting memory, then 
                                    perform all to all (previous subroutine)

 ----------------------------------------------------

On Mac: minimal demonstration

1)   git clone https://github.com/LBNL-AMO-MCTDHF/V1 master
        ( or e.g.
     git clone https://github.com/LBNL-AMO-MCTDHF/V1 v1.02 )
     mv V1 V1.firsttry     ...if you want
     cd V1.firsttry
     mkdir EXAMPLES
     mkdir MYRUNS         ...if you want, for instance
 
2)   cd COMPDIRS/BIN.ecs.hermorm.mac
              then
     export PATH=.:$PWD:$PATH
               or
     export PATH=$PWD:$PATH
               or 
     export PATH=$PATH:$PWD
                          ...or however you do it.  Maybe in your .bashrc
              and
     ./Makeme

3)   cp -R -p EXAMPLES-depot/H2PHOTO EXAMPLES

4)   cd EXAMPLES/H2PHOTO
     ./Relax.Bat
     ./Pulse.Bat
     ./Fourier.Bat 
     ./Flux.Bat 500
     ./gnu.xsec
 
If you want to update the code and EXAMPLES-depot directories then perform 
step 5, like steps 1-4, in the V1 working directory,

5)   git pull https://github.com/LBNL-AMO-MCTDHF/V1 master
     ... then ./Makeme should be sufficient, in the BIN directories,
         but ./Makeme clean; ./Makeme would certainly be fail safe
         after updating the code with git pull.


-------------------    MODULES TO LOAD    --------------------
------------------- ON NERSC & LAWRENCIUM --------------------

  COMPDIRS/BIN.ecs.hermnorm.law, 
  COMPDIRS/BIN.ecs.hermnorm.edison, etc.

LAWRENCIUM:

module load mkl

CARVER:

module unload pgi openmpi
module load intel openmpi-intel mkl
module unload torque
module load torque

HOPPER:

module swap PrgEnv-pgi PrgEnv-intel
#yes last
module unload cray-libsci

EDISON:

module unload cray-libsci
module load mkl

